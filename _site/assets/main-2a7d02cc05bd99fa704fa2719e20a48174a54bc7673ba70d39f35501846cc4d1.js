function animateMe(){if("IntersectionObserver"in window||"IntersectionObserverEntry"in window||"intersectionRatio"in window.IntersectionObserverEntry.prototype)config={root:null,rootMargin:"1000% 1px 20% 1px",threshold:[0,1]},animate=document.querySelectorAll(".animate"),observer=new IntersectionObserver(t=>{t.forEach(t=>{if(t.intersectionRatio>.5){if($(t.target).hasClass("gif")){const e=t.target;e.src=e.dataset.src,document.documentElement.clientWidth<768&&observer.unobserve(t.target)}$(t.target).hasClass("once")&&observer.unobserve(t.target),t.target.classList.add("visible")}else $(t.target).removeClass("visible")})},config),animate.forEach(t=>{observer.observe(t)},config);else{var t=$(".gif");t.addClass("lazy"),t.removeClass("gif"),$(window).scroll(function(){$(".animate").each(function(t,e){(e=$(e)).visible(!0)&&e.addClass("visible")})})}}(function(t,e){"use strict";var i=t.History=t.History||{},n=t.jQuery;if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={bind:function(t,e,i){n(t).bind(e,i)},trigger:function(t,e,i){n(t).trigger(e,i)},extractEventData:function(t,i,n){return i&&i.originalEvent&&i.originalEvent[t]||n&&n[t]||e},onDomLoad:function(t){n(t)}},"undefined"!=typeof i.init&&i.init()})(window),function(t,e){"use strict";var i=t.console||e,n=t.document,o=t.navigator,s=!1,r=t.setTimeout,a=t.clearTimeout,l=t.setInterval,u=t.clearInterval,d=t.JSON,h=t.alert,c=t.History=t.History||{},f=t.history;try{(s=t.sessionStorage).setItem("TEST","1"),s.removeItem("TEST")}catch(p){s=!1}if(d.stringify=d.stringify||d.encode,d.parse=d.parse||d.decode,"undefined"!=typeof c.init)throw new Error("History.js Core has already been loaded...");c.init=function(){return"undefined"!=typeof c.Adapter&&("undefined"!=typeof c.initCore&&c.initCore(),"undefined"!=typeof c.initHtml4&&c.initHtml4(),!0)},c.initCore=function(){if("undefined"!=typeof c.initCore.initialized)return!1;if(c.initCore.initialized=!0,c.options=c.options||{},c.options.hashChangeInterval=c.options.hashChangeInterval||100,c.options.safariPollInterval=c.options.safariPollInterval||500,c.options.doubleCheckInterval=c.options.doubleCheckInterval||500,c.options.disableSuid=c.options.disableSuid||!1,c.options.storeInterval=c.options.storeInterval||1e3,c.options.busyDelay=c.options.busyDelay||250,c.options.debug=c.options.debug||!1,c.options.initialTitle=c.options.initialTitle||n.title,c.options.html4Mode=c.options.html4Mode||!1,c.options.delayInit=c.options.delayInit||!1,c.intervalList=[],c.clearAllIntervals=function(){var t,e=c.intervalList;if(null!=e){for(t=0;t<e.length;t++)u(e[t]);c.intervalList=null}},c.debug=function(){c.options.debug&&c.log.apply(c,arguments)},c.log=function(){var t,e,o,s,r,a=void 0!==i&&"undefined"!=typeof i.log&&"undefined"!=typeof i.log.apply,l=n.getElementById("log");for(a?(t=(s=Array.prototype.slice.call(arguments)).shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[t,s]):i.log.apply(i,[t,s])):t="\n"+arguments[0]+"\n",e=1,o=arguments.length;e<o;++e){if("object"==typeof(r=arguments[e])&&void 0!==d)try{r=d.stringify(r)}catch(u){}t+="\n"+r+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||h(t),!0},c.getInternetExplorerMajorVersion=function(){return c.getInternetExplorerMajorVersion.cached="undefined"!=typeof c.getInternetExplorerMajorVersion.cached?c.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return t>4&&t}()},c.isInternetExplorer=function(){return c.isInternetExplorer.cached="undefined"!=typeof c.isInternetExplorer.cached?c.isInternetExplorer.cached:Boolean(c.getInternetExplorerMajorVersion())},c.options.html4Mode?c.emulated={pushState:!0,hashChange:!0}:c.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in n)||c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8)},c.enabled=!c.emulated.pushState,c.bugs={setHash:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<7)},c.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},c.cloneObject=function(t){var e,i;return t?(e=d.stringify(t),i=d.parse(e)):i={},i},c.getRootUrl=function(){var t=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(t+=":"+n.location.port),t+="/"},c.getBaseHref=function(){var t=n.getElementsByTagName("base"),e="";return 1===t.length&&(e=t[0].href.replace(/[^\/]+$/,"")),(e=e.replace(/\/+$/,""))&&(e+="/"),e},c.getBaseUrl=function(){return c.getBaseHref()||c.getBasePageUrl()||c.getRootUrl()},c.getPageUrl=function(){return((c.getState(!1,!1)||{}).url||c.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},c.getBasePageUrl=function(){return c.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/"},c.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e=void 0===e||e,/[a-z]+\:\/\//.test(t)||(i="/"===n?c.getRootUrl()+t.replace(/^\/+/,""):"#"===n?c.getPageUrl().replace(/#.*/,"")+t:"?"===n?c.getPageUrl().replace(/[\?#].*/,"")+t:e?c.getBaseUrl()+t.replace(/^(\.\/)+/,""):c.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},c.getShortUrl=function(t){var e=t,i=c.getBaseUrl(),n=c.getRootUrl();return c.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),c.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},c.getLocationHref=function(t){return(t=t||n).URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},c.store={},c.idToState=c.idToState||{},c.stateToId=c.stateToId||{},c.urlToId=c.urlToId||{},c.storedStates=c.storedStates||[],c.savedStates=c.savedStates||[],c.normalizeStore=function(){c.store.idToState=c.store.idToState||{},c.store.urlToId=c.store.urlToId||{},c.store.stateToId=c.store.stateToId||{}},c.getState=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var i=c.getLastSavedState();return!i&&e&&(i=c.createStateObject()),t&&((i=c.cloneObject(i)).url=i.cleanUrl||i.url),i},c.getIdByState=function(t){var e,i=c.extractId(t.url);if(!i)if(e=c.getStateString(t),"undefined"!=typeof c.stateToId[e])i=c.stateToId[e];else if("undefined"!=typeof c.store.stateToId[e])i=c.store.stateToId[e];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof c.idToState[i]||"undefined"!=typeof c.store.idToState[i];);c.stateToId[e]=i,c.idToState[i]=t}return i},c.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),(e={}).normalized=!0,e.title=t.title||"",e.url=c.getFullUrl(t.url?t.url:c.getLocationHref()),e.hash=c.getShortUrl(e.url),e.data=c.cloneObject(t.data),e.id=c.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!c.isEmptyObject(e.data),(e.title||i)&&!0!==c.options.disableSuid&&(e.hash=c.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=c.getFullUrl(e.hash),(c.emulated.pushState||c.bugs.safariPoll)&&c.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},c.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=c.normalizeState(n)},c.getStateById=function(t){return t=String(t),c.idToState[t]||c.store.idToState[t]||e},c.getStateString=function(t){var e;return e={data:c.normalizeState(t).data,title:t.title,url:t.url},d.stringify(e)},c.getStateId=function(t){return c.normalizeState(t).id},c.getHashByState=function(t){return c.normalizeState(t).hash},c.extractId=function(t){var e,i;return i=-1!=t.indexOf("#")?t.split("#")[0]:t,(e=/(.*)\&_suid=([0-9]+)$/.exec(i))&&e[1]||t,(e?String(e[2]||""):"")||!1},c.isTraditionalAnchor=function(t){return!/[\/\?\.]/.test(t)},c.extractState=function(t,e){var i,n,o=null;return e=e||!1,(i=c.extractId(t))&&(o=c.getStateById(i)),o||(n=c.getFullUrl(t),(i=c.getIdByUrl(n)||!1)&&(o=c.getStateById(i)),!o&&e&&!c.isTraditionalAnchor(t)&&(o=c.createStateObject(null,null,n))),o},c.getIdByUrl=function(t){return c.urlToId[t]||c.store.urlToId[t]||e},c.getLastSavedState=function(){return c.savedStates[c.savedStates.length-1]||e},c.getLastStoredState=function(){return c.storedStates[c.storedStates.length-1]||e},c.hasUrlDuplicate=function(t){var e;return(e=c.extractState(t.url))&&e.id!==t.id},c.storeState=function(t){return c.urlToId[t.url]=t.id,c.storedStates.push(c.cloneObject(t)),t},c.isLastSavedState=function(t){var e=!1;return c.savedStates.length&&(e=t.id===c.getLastSavedState().id),e},c.saveState=function(t){return!c.isLastSavedState(t)&&(c.savedStates.push(c.cloneObject(t)),!0)},c.getStateByIndex=function(t){return void 0===t?c.savedStates[c.savedStates.length-1]:t<0?c.savedStates[c.savedStates.length+t]:c.savedStates[t]},c.getCurrentIndex=function(){return c.savedStates.length<1?0:c.savedStates.length-1},c.getHash=function(t){var e=c.getLocationHref(t);return c.getHashByUrl(e)},c.unescapeHash=function(t){var e=c.normalizeHash(t);return e=decodeURIComponent(e)},c.normalizeHash=function(t){return t.replace(/[^#]*#/,"").replace(/#.*/,"")},c.setHash=function(t,e){var i,o;return!1!==e&&c.busy()?(c.pushQueue({scope:c,callback:c.setHash,args:arguments,queue:e}),!1):(c.busy(!0),(i=c.extractState(t,!0))&&!c.emulated.pushState?c.pushState(i.data,i.title,i.url,!1):c.getHash()!==t&&(c.bugs.setHash?(o=c.getPageUrl(),c.pushState(null,null,o+"#"+t,!1)):n.location.hash=t),c)},c.escapeHash=function(e){var i=c.normalizeHash(e);return i=t.encodeURIComponent(i),c.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},c.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=c.unescapeHash(e)},c.setTitle=function(t){var e,i=t.title;i||(e=c.getStateByIndex(0))&&e.url===t.url&&(i=e.title||c.options.initialTitle);try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(o){}return n.title=i,c},c.queues=[],c.busy=function(t){if(void 0!==t?c.busy.flag=t:"undefined"==typeof c.busy.flag&&(c.busy.flag=!1),!c.busy.flag){a(c.busy.timeout);var e=function(){var t,i,n;if(!c.busy.flag)for(t=c.queues.length-1;t>=0;--t)0!==(i=c.queues[t]).length&&(n=i.shift(),c.fireQueueItem(n),c.busy.timeout=r(e,c.options.busyDelay))};c.busy.timeout=r(e,c.options.busyDelay)}return c.busy.flag},c.busy.flag=!1,c.fireQueueItem=function(t){return t.callback.apply(t.scope||c,t.args||[])},c.pushQueue=function(t){return c.queues[t.queue||0]=c.queues[t.queue||0]||[],c.queues[t.queue||0].push(t),c},c.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),void 0!==e&&(t.queue=e),c.busy()?c.pushQueue(t):c.fireQueueItem(t),c},c.clearQueue=function(){return c.busy.flag=!1,c.queues=[],c},c.stateChanged=!1,c.doubleChecker=!1,c.doubleCheckComplete=function(){return c.stateChanged=!0,c.doubleCheckClear(),c},c.doubleCheckClear=function(){return c.doubleChecker&&(a(c.doubleChecker),c.doubleChecker=!1),c},c.doubleCheck=function(t){return c.stateChanged=!1,c.doubleCheckClear(),c.bugs.ieDoubleCheck&&(c.doubleChecker=r(function(){return c.doubleCheckClear(),c.stateChanged||t(),!0},c.options.doubleCheckInterval)),c},c.safariStatePoll=function(){var e=c.extractState(c.getLocationHref());if(!c.isLastSavedState(e))return e||c.createStateObject(),c.Adapter.trigger(t,"popstate"),c},c.back=function(t){return!1!==t&&c.busy()?(c.pushQueue({scope:c,callback:c.back,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.back(!1)}),f.go(-1),!0)},c.forward=function(t){return!1!==t&&c.busy()?(c.pushQueue({scope:c,callback:c.forward,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.forward(!1)}),f.go(1),!0)},c.go=function(t,e){var i;if(t>0)for(i=1;i<=t;++i)c.forward(e);else{if(!(t<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=t;--i)c.back(e)}return c},c.emulated.pushState){var p=function(){};c.pushState=c.pushState||p,c.replaceState=c.replaceState||p}else c.onPopState=function(e,i){var n,o,s=!1,r=!1;return c.doubleCheckComplete(),(n=c.getHash())?((o=c.extractState(n||c.getLocationHref(),!0))?c.replaceState(o.data,o.title,o.url,!1):(c.Adapter.trigger(t,"anchorchange"),c.busy(!1)),c.expectedStateId=!1,!1):((r=(s=c.Adapter.extractEventData("state",e,i)||!1)?c.getStateById(s):c.expectedStateId?c.getStateById(c.expectedStateId):c.extractState(c.getLocationHref()))||(r=c.createStateObject(null,null,c.getLocationHref())),c.expectedStateId=!1,c.isLastSavedState(r)?(c.busy(!1),!1):(c.storeState(r),c.saveState(r),c.setTitle(r),c.Adapter.trigger(t,"statechange"),c.busy(!1),!0))},c.Adapter.bind(t,"popstate",c.onPopState),c.pushState=function(e,i,n,o){if(c.getHashByUrl(n)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==o&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:o}),!1;c.busy(!0);var s=c.createStateObject(e,i,n);return c.isLastSavedState(s)?c.busy(!1):(c.storeState(s),c.expectedStateId=s.id,f.pushState(s.id,s.title,s.url),c.Adapter.trigger(t,"popstate")),!0},c.replaceState=function(e,i,n,o){if(c.getHashByUrl(n)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==o&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:o}),!1;c.busy(!0);var s=c.createStateObject(e,i,n);return c.isLastSavedState(s)?c.busy(!1):(c.storeState(s),c.expectedStateId=s.id,f.replaceState(s.id,s.title,s.url),c.Adapter.trigger(t,"popstate")),!0};if(s){try{c.store=d.parse(s.getItem("History.store"))||{}}catch(g){c.store={}}c.normalizeStore()}else c.store={},c.normalizeStore();c.Adapter.bind(t,"unload",c.clearAllIntervals),c.saveState(c.storeState(c.extractState(c.getLocationHref(),!0))),s&&(c.onUnload=function(){var t,e,i;try{t=d.parse(s.getItem("History.store"))||{}}catch(n){t={}}for(e in t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{},c.idToState)c.idToState.hasOwnProperty(e)&&(t.idToState[e]=c.idToState[e]);for(e in c.urlToId)c.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=c.urlToId[e]);for(e in c.stateToId)c.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=c.stateToId[e]);c.store=t,c.normalizeStore(),i=d.stringify(t);try{s.setItem("History.store",i)}catch(o){if(o.code!==DOMException.QUOTA_EXCEEDED_ERR)throw o;s.length&&(s.removeItem("History.store"),s.setItem("History.store",i))}},c.intervalList.push(l(c.onUnload,c.options.storeInterval)),c.Adapter.bind(t,"beforeunload",c.onUnload),c.Adapter.bind(t,"unload",c.onUnload)),c.emulated.pushState||(c.bugs.safariPoll&&c.intervalList.push(l(c.safariStatePoll,c.options.safariPollInterval)),"Apple Computer, Inc."!==o.vendor&&"Mozilla"!==(o.appCodeName||"")||(c.Adapter.bind(t,"hashchange",function(){c.Adapter.trigger(t,"popstate")}),c.getHash()&&c.Adapter.onDomLoad(function(){c.Adapter.trigger(t,"hashchange")})))},(!c.options||!c.options.delayInit)&&c.init()}(window),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),o=i[n+=r?0:1]}return this}},e.allOff=e.removeAllListeners=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,s){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?s=e:i(this.options,e),s&&this.on("always",s),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,s)}function s(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var r=s[n];this.addElementBackgroundImages(r)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new s(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},s.prototype=Object.create(e.prototype),s.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(s.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(a(this))})},o.makeJQueryPlugin(),o}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function l(t,e,n){var o,s="$()."+i+'("'+e+'")';return t.each(function(t,l){var u=a.data(l,i);if(u){var d=u[e];if(d&&"_"!=e.charAt(0)){var h=d.apply(u,n);o=void 0===o?h:o}else r(s+" is not a valid method")}else r(i+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new s(n,e),a.data(n,i,o))})}(a=a||e||t.jQuery)&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){return"string"==typeof t?l(this,t,o.call(arguments,1)):(u(this,t),this)},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,s=t.console,r=void 0===s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),o=i[n+=r?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){t[l[e]]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s.isBoxSizeOuter=r=200==t(o.width),i.removeChild(e)}}function s(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=n(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==s.boxSizing,h=0;u>h;h++){var c=l[h],f=s[c],p=parseFloat(f);a[c]=isNaN(p)?0:p}var g=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,b=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,x=d&&r,S=t(s.width);!1!==S&&(a.width=S+(x?0:g+b));var _=t(s.height);return!1!==_&&(a.height=_+(x?0:m+w)),a.innerWidth=a.width-(g+b),a.innerHeight=a.height-(m+w),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=l.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},getParent:function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},debounceMethod:function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,e),delete s[o]},i||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}},n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+s),u=i.makeArray(a).concat(i.makeArray(l)),d=r+"-options",h=t.jQuery;u.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var l=new e(t,i);h&&h.data(t,o,l)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],u={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){e[u[i]||i]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],s=this.layout.size,r=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[o];e[s]=this.getXValue(a),e[r]="";var l=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",d=n?"bottom":"top",h=this.position.y+t[l];e[u]=this.getYValue(h),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),!r||this.isTransitioning){var a=t-i,l=e-n,u={};u.transform=this.getTranslate(a,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},d.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var h="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:h,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd)e.onEnd[n].call(this),delete e.onEnd[n];this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(f)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},
d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s){return e(t,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function s(t,e){var i=n.getQueryElement(t);if(i){this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,c[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];return i.length?(i=parseFloat(i))*(p[n]||1):0}var l=t.console,u=t.jQuery,d=function(){},h=0,c={};s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=s.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=new i(e[o],this);n.push(s)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=d,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){++r==s&&i()}var o=this,s=e.length;if(e&&s){var r=0;e.forEach(function(e){e.once(t,n)})}else i()},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=d,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t);return{left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom}},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&c[e]},s.create=function(t,e){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(o),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var p={ms:1,s:1e3};return s.Item=o,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n;s=Math[r&&1>r?"round":"floor"](s),this.cols=Math.max(s,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),o={x:this.columnWidth*n.col,y:n.y},s=n.y+t.size.outerHeight,r=i+n.col,a=n.col;r>a;a++)this.colYs[a]=s;return o},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft")?n.left:n.right,s=o+i.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var a=Math.floor(s/this.columnWidth);a-=s%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?n.top:n.bottom)+i.outerHeight,u=r;a>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,o,s){function r(){function n(){l=+new Date,o.apply(u,h)}function r(){a=e}var u=this,d=+new Date-l,h=arguments;s&&!a&&n(),a&&clearTimeout(a),s===e&&d>t?n():!0!==i&&(a=setTimeout(s?r:n,s===e?t-d:t))}var a,l=0;return"boolean"!=typeof i&&(s=o,o=i,i=e),n.guid&&(r.guid=o.guid=o.guid||n.guid++),r},n.debounce=function(t,n,o){return o===e?i(t,n,!1):i(t,o,!1!==n)}}(this),function(t,e,i,n){"use strict";function o(e,i){this.element=e;var n={};t.each(t(this.element).data(),function(t,e){var i=function(t){return t&&t[0].toLowerCase()+t.slice(1)}(t.replace("fluidbox",""));(""!==i||null!==i)&&("false"==e?e=!1:"true"==e&&(e=!0),n[i]=e)}),this.settings=t.extend({},a,i,n),this.settings.viewportFill=Math.max(Math.min(parseFloat(this.settings.viewportFill),1),0),this.settings.stackIndex<this.settings.stackIndexDelta&&(settings.stackIndexDelta=settings.stackIndex),this._name=r,this.init()}var s=t(e),r=(t(i),"fluidbox"),a={immediateOpen:!1,loader:!1,maxWidth:0,maxHeight:0,resizeThrottle:500,stackIndex:1e3,stackIndexDelta:10,viewportFill:.95},l={},u=0;("undefined"==typeof console||"undefined"===console.warn)&&(console={},console.warn=function(){}),t.isFunction(t.throttle)||console.warn("Fluidbox: The jQuery debounce/throttle plugin is not found/loaded. Even though Fluidbox works without it, the window resize event will fire extremely rapidly in browsers, resulting in significant degradation in performance upon viewport resize.");var d=function(){var t,e=i.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in o)if(e.style[t]!==n)return o[t]}(),h={dom:function(){var e=t("<div />",{"class":"fluidbox__wrap",css:{zIndex:this.settings.stackIndex-this.settings.stackIndexDelta}});if(t(this.element).addClass("fluidbox--closed").wrapInner(e).find("img").first().css({opacity:1}).addClass("fluidbox__thumb").after('<div class="fluidbox__ghost" />'),this.settings.loader){var i=t("<div />",{"class":"fluidbox__loader",css:{zIndex:2}});t(this.element).find(".fluidbox__wrap").append(i)}},prepareFb:function(){var e=this,i=t(this.element);i.trigger("thumbloaddone.fluidbox"),h.measure.fbElements.call(this),e.bindEvents(),i.addClass("fluidbox--ready"),e.bindListeners(),i.trigger("ready.fluidbox")},measure:{viewport:function(){l.viewport={w:s.width(),h:s.height()}},fbElements:function(){var e=this,i=t(this.element),n=i.find("img").first(),o=i.find(".fluidbox__ghost"),s=i.find(".fluidbox__wrap");e.instanceData.thumb={natW:n[0].naturalWidth,natH:n[0].naturalHeight,w:n.width(),h:n.height()},o.css({width:n.width(),height:n.height(),top:n.offset().top-s.offset().top+parseInt(n.css("borderTopWidth"))+parseInt(n.css("paddingTop")),left:n.offset().left-s.offset().left+parseInt(n.css("borderLeftWidth"))+parseInt(n.css("paddingLeft"))})}},checkURL:function(t){var e=0;return/[\s+]/g.test(t)?(console.warn("Fluidbox: Fluidbox opening is halted because it has detected characters in your URL string that need to be properly encoded/escaped. Whitespace(s) have to be escaped manually. See RFC3986 documentation."),e=1):/[\"\'\(\)]/g.test(t)&&(console.warn("Fluidbox: Fluidbox opening will proceed, but it has detected characters in your URL string that need to be properly encoded/escaped. These will be escaped for you. See RFC3986 documentation."),e=0),e},formatURL:function(t){return t.replace(/"/g,"%22").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}};t.extend(o.prototype,{init:function(){var e=this,i=t(this.element),n=i.find("img").first();if(h.measure.viewport(),(!e.instanceData||!e.instanceData.initialized)&&i.is("a")&&1===i.children().length&&(i.children().is("img")||i.children().is("picture")&&1===i.find("img").length)&&"none"!==i.css("display")&&"none"!==i.children().css("display")&&"none"!==i.parents().css("display")){i.removeClass("fluidbox--destroyed"),e.instanceData={},e.instanceData.initialized=!0,e.instanceData.originalNode=i.html(),u+=1,e.instanceData.id=u,i.addClass("fluidbox__instance-"+u),i.addClass("fluidbox--initialized"),h.dom.call(e),i.trigger("init.fluidbox");var o=new Image;n.width()>0&&n.height()>0?h.prepareFb.call(e):(o.onload=function(){h.prepareFb.call(e)},o.onerror=function(){i.trigger("thumbloadfail.fluidbox")},o.src=n.attr("src"))}},open:function(){var e=this,i=t(this.element),n=i.find("img").first(),o=i.find(".fluidbox__ghost"),s=i.find(".fluidbox__wrap");e.instanceData.state=1,o.off(d),t(".fluidbox--opened").fluidbox("close");var r,a=t("<div />",{"class":"fluidbox__overlay",css:{zIndex:-1}});if(s.append(a),i.removeClass("fluidbox--closed").addClass("fluidbox--loading"),h.checkURL(n.attr("src")))return e.close(),!1;o.css({"background-image":"url("+h.formatURL(n.attr("src"))+")",opacity:1}),h.measure.fbElements.call(e),e.settings.immediateOpen?(i.addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:e.settings.stackIndex+e.settings.stackIndexDelta}),i.trigger("openstart.fluidbox"),e.compute(),n.css({opacity:0}),t(".fluidbox__overlay").css({opacity:1}),o.one(d,function(){i.trigger("openend.fluidbox")}),(r=new Image).onload=function(){if(i.trigger("imageloaddone.fluidbox"),1===e.instanceData.state){if(e.instanceData.thumb.natW=r.naturalWidth,e.instanceData.thumb.natH=r.naturalHeight,i.removeClass("fluidbox--loading"),h.checkURL(r.src))return e.close({error:!0}),!1;o.css({"background-image":"url("+h.formatURL(r.src)+")"}),e.compute()}},r.onerror=function(){e.close({error:!0}),i.trigger("imageloadfail.fluidbox"),i.trigger("delayedloadfail.fluidbox")},r.src=i.attr("href")):((r=new Image).onload=function(){return i.trigger("imageloaddone.fluidbox"),i.removeClass("fluidbox--loading").addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:e.settings.stackIndex+e.settings.stackIndexDelta}),i.trigger("openstart.fluidbox"),h.checkURL(r.src)?(e.close({error:!0}),!1):(o.css({"background-image":"url("+h.formatURL(r.src)+")"}),e.instanceData.thumb.natW=r.naturalWidth,e.instanceData.thumb.natH=r.naturalHeight,e.compute(),n.css({opacity:0}),t(".fluidbox__overlay").css({opacity:1}),void o.one(d,function(){i.trigger("openend.fluidbox")}))},r.onerror=function(){e.close({error:!0}),i.trigger("imageloadfail.fluidbox")},r.src=i.attr("href"))},compute:function(){var e,i,n,o=this,r=t(this.element),a=r.find("img").first(),u=r.find(".fluidbox__ghost"),d=r.find(".fluidbox__wrap"),h=o.instanceData.thumb.natW,c=o.instanceData.thumb.natH,f=o.instanceData.thumb.w,p=o.instanceData.thumb.h,g=h/c,m=l.viewport.w/l.viewport.h;o.settings.maxWidth>0?c=(h=o.settings.maxWidth)/g:o.settings.maxHeight>0&&(h=(c=o.settings.maxHeight)*g),m>g?(i=h*(p*(e=(c<l.viewport.h?c:l.viewport.h*o.settings.viewportFill)/p)/c)/f,n=e):(e=c*(f*(i=(h<l.viewport.w?h:l.viewport.w*o.settings.viewportFill)/f)/h)/p,n=i),o.settings.maxWidth&&o.settings.maxHeight&&console.warn("Fluidbox: Both maxHeight and maxWidth are specified. You can only specify one. If both are specified, only the maxWidth property will be respected. This will not generate any error, but may cause unexpected sizing behavior.");var y=s.scrollTop()-a.offset().top+p*(n-1)*.5+.5*(s.height()-p*n),v=f*(n-1)*.5+.5*(s.width()-f*n)-a.offset().left,b=parseInt(100*i)/100+","+parseInt(100*e)/100;u.css({transform:"translate("+parseInt(100*v)/100+"px,"+parseInt(100*y)/100+"px) scale("+b+")",top:a.offset().top-d.offset().top,left:a.offset().left-d.offset().left}),r.find(".fluidbox__loader").css({transform:"translate("+parseInt(100*v)/100+"px,"+parseInt(100*y)/100+"px) scale("+b+")"}),r.trigger("computeend.fluidbox")},recompute:function(){this.compute()},close:function(e){var i=this,o=t(this.element),s=o.find("img").first(),r=o.find(".fluidbox__ghost"),a=o.find(".fluidbox__wrap"),l=o.find(".fluidbox__overlay"),u=t.extend(null,{error:!1},e);return null!==i.instanceData.state&&typeof i.instanceData.state!=typeof n&&0!==i.instanceData.state&&(i.instanceData.state=0,o.trigger("closestart.fluidbox"),o.removeClass(function(t,e){return(e.match(/(^|\s)fluidbox--(opened|loaded|loading)+/g)||[]).join(" ")}).addClass("fluidbox--closed"),r.css({transform:"translate(0,0) scale(1,1)",top:s.offset().top-a.offset().top+parseInt(s.css("borderTopWidth"))+parseInt(s.css("paddingTop")),left:s.offset().left-a.offset().left+parseInt(s.css("borderLeftWidth"))+parseInt(s.css("paddingLeft"))}),o.find(".fluidbox__loader").css({transform:"none"}),r.one(d,function(){r.css({opacity:0}),s.css({opacity:1}),l.remove(),a.css({zIndex:i.settings.stackIndex-i.settings.stackIndexDelta}),o.trigger("closeend.fluidbox")}),u.error&&r.trigger("transitionend"),void l.css({opacity:0}))},bindEvents:function(){var e=this;t(this.element).on("click.fluidbox",function(t){t.preventDefault(),e.instanceData.state&&0!==e.instanceData.state?e.close():e.open()})},bindListeners:function(){var e=this,i=t(this.element),n=function(){h.measure.viewport(),h.measure.fbElements.call(e),i.hasClass("fluidbox--opened")&&e.compute()};t.isFunction(t.throttle)?s.on("resize.fluidbox"+e.instanceData.id,t.throttle(e.settings.resizeThrottle,n)):s.on("resize.fluidbox"+e.instanceData.id,n),i.on("reposition.fluidbox",function(){e.reposition()}),i.on("recompute.fluidbox, compute.fluidbox",function(){e.compute()}),i.on("destroy.fluidbox",function(){e.destroy()}),i.on("close.fluidbox",function(){e.close()})},unbind:function(){t(this.element).off("click.fluidbox reposition.fluidbox recompute.fluidbox compute.fluidbox destroy.fluidbox close.fluidbox"),s.off("resize.fluidbox"+this.instanceData.id)},reposition:function(){h.measure.fbElements.call(this)},destroy:function(){var e=this.instanceData.originalNode;this.unbind(),t.data(this.element,"plugin_"+r,null),t(this.element).removeClass(function(t,e){return(e.match(/(^|\s)fluidbox[--|__]\S+/g)||[]).join(" ")}).empty().html(e).addClass("fluidbox--destroyed").trigger("destroyed.fluidbox")},getMetadata:function(){return this.instanceData}}),t.fn[r]=function(e){var i,s=arguments;return e===n||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var n=t.data(this,"plugin_"+r);n instanceof o&&"function"==typeof n[e]?i=n[e].apply(n,Array.prototype.slice.call(s,1)):console.warn('Fluidbox: The method "'+e+'" used is not defined in Fluidbox. Please make sure you are calling the correct public method.')}),i!==n?i:this):this}}(jQuery,window,document),function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var o=0,s=e.length;s>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){for(var e in t.Context.refreshAll(),i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,o.windowContext||(o.windowContext=!0,o.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll?n.forward:n.backward;for(var s in this.waypoints[i]){var r=this.waypoints[i][s];if(null!==r.triggerPoint){var a=n.oldScroll<r.triggerPoint,l=n.newScroll>=r.triggerPoint;(a&&l||!a&&!l)&&(r.queueTrigger(o),t[r.group.id]=r.group)}}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};for(var s in this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var r=t[s];for(var a in this.waypoints[s]){var l,u,d,h,c=this.waypoints[s][a],f=c.options.offset,p=c.triggerPoint,g=0,m=null==p;c.element!==c.element.window&&(g=c.adapter.offset()[r.offsetProp]),"function"==typeof f?f=f.apply(c):"string"==typeof f&&(f=parseFloat(f),c.options.offset.indexOf("%")>-1&&(f=Math.ceil(r.contextDimension*f/100))),l=r.contextScroll-r.contextOffset,c.triggerPoint=Math.floor(g+l-f),u=p<r.oldScroll,d=c.triggerPoint>=r.oldScroll,h=!u&&!d,!m&&(u&&d)?(c.queueTrigger(r.backward),n[c.group.id]=c.group):!m&&h?(c.queueTrigger(r.forward),n[c.group.id]=c.group):m&&r.oldScroll>=c.triggerPoint&&(c.queueTrigger(r.forward),n[c.group.id]=c.group)}}return o.requestAnimationFrame(function(){for(var t in n)n[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},o.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?e:t);for(var s=0,r=n.length;r>s;s+=1){var a=n[s];(a.options.continuous||s===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,n){t[n]=e[n]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&((n=t.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var o=t.extend({},n,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),i.push(new e(o))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();var VanillaTilt=function(){"use strict";class t{constructor(e,i={}){if(!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(i),this.reverse=this.settings.reverse?-1:1,this.glare=t.isSettingTrue(this.settings.glare),this.glarePrerender=t.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=t.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=t.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.updateInitialPosition()}static isSettingTrue(t){return""===t||!0===t||1===t}getElementListener(){
if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){const t=document.querySelector(this.settings["mouse-event-element"]);if(t)return t}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}destroy(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}onDeviceOrientation(t){if(null===t.gamma||null===t.beta)return;this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=t.gamma,this.betazero=t.beta):(this.gammazero=(t.gamma+this.lastgammazero)/2,this.betazero=(t.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);const e=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,n=e/this.width,o=i/this.height,s=(t.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/n,r=(t.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/o;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:s+this.left,clientY:r+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseMove(t){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform=`perspective(${this.settings.perspective}px) `+"rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"),this.resetGlare()}resetGlare(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}updateInitialPosition(){if(0===this.settings.startX&&0===this.settings.startY)return;this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};let t=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=t,this.resetGlare()}getValues(){let t,e;return this.fullPageListening?(t=this.event.clientX/this.clientWidth,e=this.event.clientY/this.clientHeight):(t=(this.event.clientX-this.left)/this.width,e=(this.event.clientY-this.top)/this.height),t=Math.min(Math.max(t,0),1),e=Math.min(Math.max(e,0),1),{tiltX:(this.reverse*(this.settings.max-t*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(e*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*t,percentageY:100*e,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}updateElementPosition(){let t=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=t.left,this.top=t.top}update(){let t=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:t.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:t.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform=`rotate(${t.angle}deg) translate(-50%, -50%)`,this.glareElement.style.opacity=`${t.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:t})),this.updateCall=null}prepareGlare(){if(!this.glarePrerender){const t=document.createElement("div");t.classList.add("js-tilt-glare");const e=document.createElement("div");e.classList.add("js-tilt-glare-inner"),t.appendChild(e),this.element.appendChild(t)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:`${2*this.element.offsetWidth}px`,height:`${2*this.element.offsetWidth}px`,transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}updateGlareSize(){this.glare&&Object.assign(this.glareElement.style,{width:`${2*this.element.offsetWidth}`,height:`${2*this.element.offsetWidth}`})}updateClientSize(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}onWindowResize(){this.updateGlareSize(),this.updateClientSize()}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(t){let e={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var n in e)if(n in t)i[n]=t[n];else if(this.element.hasAttribute("data-tilt-"+n)){let t=this.element.getAttribute("data-tilt-"+n);try{i[n]=JSON.parse(t)}catch(e){i[n]=t}}else i[n]=e[n];return i}static init(e,i){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(e=>{"vanillaTilt"in e||(e.vanillaTilt=new t(e,i))})}}return"undefined"!=typeof document&&(window.VanillaTilt=t,t.init(document.querySelectorAll("[data-tilt]"))),t}();!function(t){"use strict";function e(){t(".active-link").removeClass("active-link"),t(".page_content").find("img:first").imagesLoaded(function(){window.scrollTo(0,0),t("body").removeClass("loading"),t("body").removeClass("menu_open")}),t("body").attr("data-page-url",window.location.pathname),t("body").attr("data-page-url");for(var e=0;e<document.links.length;e++){var i=document.links[e],n=i.href;n!=document.URL&&n+"/"!=document.URL||document.links[e].classList.add("active-link"),i.classList.contains("menu__list__item__link")&&document.URL.includes(n)&&document.links[e].classList.add("active-link")}Waypoint.destroyAll();var o=0;t(".gallery").each(function(){var e=t(this),i="gallery-"+ ++o;e.attr("id",i);var n=e.attr("data-columns");e.append('<div class="gallery__wrap"></div>'),e.children("img").each(function(){t(this).appendTo("#"+i+" .gallery__wrap")}),e.find(".gallery__wrap img").each(function(){var e=t(this).attr("src");t(this).wrapAll('<div class="gallery__item"><a href="'+e+'" class="gallery__item__link"></div></div>').appendTo()}),e.imagesLoaded(function(){if("1"===n){e.addClass("gallery--carousel"),e.children(".gallery__wrap").addClass("owl-carousel"),e.children(".gallery__wrap").owlCarousel({items:1,loop:!0,mouseDrag:!1,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!1,autoplayTimeout:6e3,autoHeight:!0,animateOut:"fadeOut"});new Waypoint({element:document.getElementById(i),handler:function(t){"down"===t&&e.children(".gallery__wrap").trigger("stop.owl.autoplay"),"up"===t&&e.children(".gallery__wrap").trigger("play.owl.autoplay")},offset:"-100%"}),new Waypoint({element:document.getElementById(i),handler:function(t){"down"===t&&e.children(".gallery__wrap").trigger("play.owl.autoplay"),"up"===t&&e.children(".gallery__wrap").trigger("stop.owl.autoplay")},offset:"100%"})}else e.addClass("gallery--grid"),e.children(".gallery__wrap").masonry({itemSelector:".gallery__item",transitionDuration:0}),e.find(".gallery__item__link").fluidbox({loader:!0});e.addClass("gallery--on")})}),t(".single p > img").each(function(){var e=t(this).parent("p");t(this).insertAfter(e),t(this).wrapAll('<div class="image-wrap"></div>'),e.remove()}),t(".single iframe").each(function(){if(t(this).attr("src").indexOf("youtube")>=0||t(this).attr("src").indexOf("vimeo")>=0){var e=t(this).attr("width"),i=t(this).attr("height")/e*100;t(this).wrapAll('<div class="video-wrap"><div class="video" style="padding-bottom:'+i+'%;"></div></div>')}}),document.documentElement.clientWidth>=1024&&VanillaTilt.init(document.querySelectorAll(".say_hi>div"));new LazyLoad({elements_selector:".lazy"});t(".animate").removeClass("visible"),animateMe(),setTimeout(function(){t("#lang").load(location.href+" #lang>*","")},500)}t("body").attr("data-page-url");var i=document.title,n=window.History;n.Adapter.bind(window,"statechange",function(){var o=n.getState();t("body").addClass("loading"),t(".page-loader").load(o.hash+" .page_content",function(){var n=350;t(".active-link").removeClass("active-link"),setTimeout(function(){t(".page .page_content").remove(),t(".page-loader .page_content").appendTo(".page"),i=t(".page_content").attr("data-page-title"),document.title=i,t("body").attr("data-title",document.title.split(" ")[0].toLowerCase()),e()},n)})}),t("body").hasClass("ajax-loading")&&t(document).on("click","a",function(e){e.preventDefault();var o=t(this).attr("href");t(this).hasClass("js-no-ajax")||/^#/.test(o)||o.indexOf("mailto:")>=0||o.indexOf("tel:")>=0?window.location=o:t(this).is(".gallery__item__link")||(o.indexOf("http")>=0?window.open(o,"_blank"):(o,n.pushState(null,i,o)))}),e(),t(document).on("click",".js-menu-toggle",function(){t("body").hasClass("menu_open")?t("body").removeClass("menu_open"):t("body").addClass("menu_open")}),t(document).on("click",".menu__list__item__link",function(){t(".menu").hasClass("menu_open")&&t(".menu").removeClass("menu_open")});var o=window.pageYOffset;window.onscroll=function(){var e=window.pageYOffset;o>e||window.scrollY<30?t(".header").removeClass("up"):t("body").hasClass("menu--open")||t(".header").addClass("up"),o=e},t(document).on("click","#lang a",function(){t("#header").addClass("hide"),setTimeout(function(){t("#navlinks").load(location.href+" #navlinks>*",""),t("#head_logo").load(location.href+" #head_logo>*",""),setTimeout(function(){t("#header").removeClass("hide"),document.getElementById("site_logo").src="/images/logo-black.gif",t("img.header__logo__img").mouseover(function(){document.getElementById("site_logo").src="/images/logo-black-wipe.gif"})},100)},500)}),t("img#site_logo").mouseover(function(){document.getElementById("site_logo").src="/images/logo-black-wipe.gif"}),t(document).on("submit","#contact-form",function(e){t(".contact-form__item--error").removeClass("contact-form__item--error");var i=t('.contact-form__input[name="email"]'),n=t('.contact-form__input[name="name"]'),o=t('.contact-form__textarea[name="message"]'),s=t(".contact-form__gotcha");""===i.val()&&i.closest(".contact-form__item").addClass("contact-form__item--error"),""===n.val()&&n.closest(".contact-form__item").addClass("contact-form__item--error"),""===o.val()&&o.closest(".contact-form__item").addClass("contact-form__item--error"),""!==i.val()&&""!==n.val()&&""!==o.val()&&0===s.val().length||e.preventDefault()})}(jQuery),function(t){t.fn.visible=function(e){var i=t(this),n=t(window),o=n.scrollTop(),s=o+n.height(),r=i.offset().top,a=r+i.height();return(!0===e?r:a)<=s&&(!0===e?a:r)>=o}}(jQuery);const debounce=t=>{let e;return(...i)=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>{t(...i)})}},storeScroll=()=>{document.documentElement.dataset.scroll=window.scrollY};document.addEventListener("scroll",debounce(storeScroll),{passive:!0}),storeScroll();